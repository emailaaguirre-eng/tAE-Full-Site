/*! For license information please see artkey-editor.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,l)=>{var r=l(594),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,l){var r,i={},d=null,c=null;for(r in void 0!==l&&(d=""+l),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:d,ref:c,props:i,_owner:n.current}}t.jsx=i,t.jsxs=i},206:e=>{e.exports=ReactDOM},338:(e,t,l)=>{var r=l(206);t.H=r.createRoot,r.hydrateRoot},594:e=>{e.exports=React},848:(e,t,l)=>{e.exports=l(20)}},t={};function l(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,l),o.exports}var r,a,o=l(594),n=l(338),s=l(848);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function d(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],l=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")}function c(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,r)}return l}function f(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?u(Object(l),!0).forEach(function(t){b(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}function b(e,t,l){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,"string");if("object"!=i(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function m(){var e,t,l="function"==typeof Symbol?Symbol:{},r=l.iterator||"@@iterator",a=l.toStringTag||"@@toStringTag";function o(l,r,a,o){var i=r&&r.prototype instanceof s?r:s,d=Object.create(i.prototype);return g(d,"_invoke",function(l,r,a){var o,s,i,d=0,c=a||[],u=!1,f={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,l){return o=t,s=0,i=e,f.n=l,n}};function b(l,r){for(s=l,i=r,t=0;!u&&d&&!a&&t<c.length;t++){var a,o=c[t],b=f.p,m=o[2];l>3?(a=m===r)&&(i=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=b&&((a=l<2&&b<o[1])?(s=0,f.v=r,f.n=o[1]):b<m&&(a=l<3||o[0]>r||r>m)&&(o[4]=l,o[5]=r,f.n=m,s=0))}if(a||l>1)return n;throw u=!0,r}return function(a,c,m){if(d>1)throw TypeError("Generator is already running");for(u&&1===c&&b(c,m),s=c,i=m;(t=s<2?e:i)||!u;){o||(s?s<3?(s>1&&(f.n=-1),b(s,i)):f.n=i:f.v=i);try{if(d=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(u=f.n<0)?i:l.call(r,f))!==n)break}catch(t){o=e,s=1,i=t}finally{d=1}}return{value:t,done:u}}}(l,a,o),!0),d}var n={};function s(){}function i(){}function d(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(g(t={},r,function(){return this}),t),u=d.prototype=s.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,g(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return i.prototype=d,g(u,"constructor",d),g(d,"constructor",i),i.displayName="GeneratorFunction",g(d,a,"GeneratorFunction"),g(u),g(u,a,"Generator"),g(u,r,function(){return this}),g(u,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:f}})()}function g(e,t,l,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}g=function(e,t,l,r){function o(t,l){g(e,t,function(e){return this._invoke(t,l,e)})}t?a?a(e,t,{value:l,enumerable:!r,configurable:!r,writable:!r}):e[t]=l:(o("next",0),o("throw",1),o("return",2))},g(e,t,l,r)}function p(e,t,l,r,a,o,n){try{var s=e[o](n),i=s.value}catch(e){return void l(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function h(e){return function(){var t=this,l=arguments;return new Promise(function(r,a){var o=e.apply(t,l);function n(e){p(o,r,a,n,s,"next",e)}function s(e){p(o,r,a,n,s,"throw",e)}n(void 0)})}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r,a,o,n,s=[],i=!0,d=!1;try{if(o=(l=l.call(e)).next,0===t){if(Object(l)!==l)return;i=!1}else for(;!(i=(r=o.call(l)).done)&&(s.push(r.value),s.length!==t);i=!0);}catch(e){d=!0,a=e}finally{try{if(!i&&null!=l.return&&(n=l.return(),Object(n)!==n))return}finally{if(d)throw a}}return s}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,r=Array(t);l<t;l++)r[l]=e[l];return r}var j=(null===(r=window.ArtKeyEditor)||void 0===r?void 0:r.rest)||{save:"/wp-json/artkey/v1/save",get:"/wp-json/artkey/v1/get",upload:"/wp-json/artkey/v1/upload"},_=(null===(a=window.ArtKeyEditor)||void 0===a?void 0:a.nonce)||"",k="#FFFFFF",w="#ECECE9",N="#353535";function C(e){var t,l,r=e.artkeyId,a=void 0===r?null:r,n=(0,o.useMemo)(function(){return new URLSearchParams(window.location.search)},[]),i=n.get("product_id")||null,u="true"===n.get("from_customize"),g=x((0,o.useState)(null),2),p=g[0],y=g[1],v=x((0,o.useState)(0),2),C=v[0],D=v[1],E=x((0,o.useState)(0),2),q=E[0],B=E[1],M=x((0,o.useState)(0),2),T=M[0],V=M[1],L=x((0,o.useState)(0),2),R=L[0],U=L[1],W=x((0,o.useState)("solid"),2),Y=W[0],z=W[1],K=x((0,o.useState)("mobile"),2),H=K[0],X=K[1],$=x((0,o.useState)([]),2),J=$[0],Z=$[1],Q=x((0,o.useState)(""),2),ee=Q[0],te=Q[1],le=x((0,o.useState)("https://www."),2),re=le[0],ae=le[1],oe=x((0,o.useState)(null),2),ne=oe[0],se=oe[1],ie=x((0,o.useState)({title:"Your Personalized Design",theme:{template:"classic",bg_color:"#F6F7FB",bg_image_id:0,bg_image_url:"",font:"g:Playfair Display",text_color:"#111111",title_color:"#4f46e5",title_style:"solid",button_color:"#4f46e5",button_gradient:"",color_scope:"content"},links:[],spotify:{url:"https://",autoplay:!1},featured_video:{video_id:0,button_label:"Video Greeting"},features:{enable_gallery:!1,enable_video:!1,show_guestbook:!1,enable_featured_video:!1,allow_img_uploads:!1,allow_vid_uploads:!1,gb_btn_view:!0,gb_signing_status:"open",gb_signing_start:"",gb_signing_end:"",gb_require_approval:!0,img_require_approval:!0,vid_require_approval:!0,order:["gallery","guestbook","featured_video","video"]},uploadedImages:[],uploadedVideos:[],customizations:{}}),2),de=ie[0],ce=ie[1];(0,o.useEffect)(function(){if(u&&"undefined"!=typeof window){var e=sessionStorage.getItem("productCustomization");e&&se(JSON.parse(e))}},[u]),(0,o.useEffect)(function(){a&&ue(a)},[a]);var ue=function(){var e=h(m().m(function e(t){var l,r,a;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(j.get,"/").concat(t),{headers:{"X-WP-Nonce":_}});case 1:if((l=e.v).ok){e.n=2;break}return e.a(2);case 2:return e.n=3,l.json();case 3:null!=(r=e.v)&&r.data&&(ce(r.data),Z(r.data.links||[])),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to load ArtKey",a);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),fe=(0,o.useMemo)(function(){return[{value:"classic",name:"Classic",bg:"#F6F7FB",button:"#4f46e5",text:"#1d1d1f",title:"#4f46e5"},{value:"paper",name:"Paper",bg:"#fbf8f1",button:"#8b4513",text:"#2d3436",title:"#8b4513"},{value:"snow",name:"Snow",bg:"#ffffff",button:"#3b82f6",text:"#1d1d1f",title:"#3b82f6"},{value:"cloud",name:"Cloud",bg:"#f8fafc",button:"#10b981",text:"#1d1d1f",title:"#10b981"},{value:"pearl",name:"Pearl",bg:"#fefefe",button:"#ec4899",text:"#1d1d1f",title:"#ec4899"},{value:"ivory",name:"Ivory",bg:"#fffff0",button:"#f59e0b",text:"#2d3436",title:"#f59e0b"},{value:"mist",name:"Mist",bg:"#f1f5f9",button:"#8b5cf6",text:"#1d1d1f",title:"#8b5cf6"},{value:"cream",name:"Cream",bg:"#fef3c7",button:"#d97706",text:"#2d3436",title:"#d97706"},{value:"aurora",name:"Aurora",bg:"linear-gradient(135deg,#667eea,#764ba2)",button:"#ffffff",text:"#ffffff",title:"#ffffff"},{value:"sunset",name:"Sunset",bg:"linear-gradient(135deg,#ff6b6b,#feca57)",button:"#ffffff",text:"#ffffff",title:"#ffd700"},{value:"ocean",name:"Ocean",bg:"linear-gradient(135deg,#667eea,#74ebd5)",button:"#ffffff",text:"#ffffff",title:"#74ebd5"},{value:"rose_gold",name:"Rose Gold",bg:"linear-gradient(135deg,#f7971e,#ffd200)",button:"#d946ef",text:"#1d1d1f",title:"#d946ef"},{value:"fire",name:"Fire",bg:"linear-gradient(135deg,#ff6b6b,#ee5a6f)",button:"#ffffff",text:"#ffffff",title:"#fef3c7"},{value:"sky",name:"Sky",bg:"linear-gradient(135deg,#4facfe,#00f2fe)",button:"#ffffff",text:"#ffffff",title:"#fde047"},{value:"forest",name:"Forest",bg:"linear-gradient(135deg,#134e5e,#71b280)",button:"#ffffff",text:"#ffffff",title:"#d4fc79"},{value:"berry",name:"Berry",bg:"linear-gradient(135deg,#c026d3,#e879f9)",button:"#ffffff",text:"#ffffff",title:"#fde047"},{value:"lavender",name:"Lavender",bg:"linear-gradient(135deg,#e0c3fc,#8ec5fc)",button:"#8b5cf6",text:"#1d1d1f",title:"#7c3aed"},{value:"mint",name:"Mint",bg:"linear-gradient(135deg,#d4fc79,#96e6a1)",button:"#10b981",text:"#1d1d1f",title:"#047857"},{value:"peach",name:"Peach",bg:"linear-gradient(135deg,#ffecd2,#fcb69f)",button:"#f97316",text:"#1d1d1f",title:"#ea580c"},{value:"cotton",name:"Cotton Candy",bg:"linear-gradient(135deg,#a8edea,#fed6e3)",button:"#ec4899",text:"#1d1d1f",title:"#db2777"},{value:"lemon",name:"Lemon Fresh",bg:"linear-gradient(135deg,#fddb92,#d1fdff)",button:"#06b6d4",text:"#1d1d1f",title:"#0891b2"},{value:"pastel",name:"Pastel Sky",bg:"linear-gradient(135deg,#fbc2eb,#a6c1ee)",button:"#8b5cf6",text:"#1d1d1f",title:"#7c3aed"},{value:"aqua",name:"Aqua Teal",bg:"linear-gradient(135deg,#00d2ff,#3a7bd5)",button:"#0ea5e9",text:"#ffffff",title:"#ffffff"},{value:"blush",name:"Pink Blush",bg:"linear-gradient(135deg,#ff9a9e,#fecfef)",button:"#ec4899",text:"#1d1d1f",title:"#db2777"},{value:"dark",name:"Dark Mode",bg:"#0f1218",button:"#667eea",text:"#ffffff",title:"#667eea"},{value:"bold",name:"Bold",bg:"#111111",button:"#ffffff",text:"#ffffff",title:"#ffffff"},{value:"cosmic",name:"Cosmic",bg:"linear-gradient(135deg,#1a1a2e,#16213e)",button:"#ef4444",text:"#ffffff",title:"#fbbf24"},{value:"midnight",name:"Midnight",bg:"linear-gradient(135deg,#000428,#004e92)",button:"#60a5fa",text:"#ffffff",title:"#60a5fa"},{value:"vintage",name:"Vintage",bg:"linear-gradient(135deg,#8b4513,#daa520)",button:"#ffffff",text:"#ffffff",title:"#ffd700"},{value:"electric",name:"Electric",bg:"linear-gradient(135deg,#06b6d4,#3b82f6)",button:"#fde047",text:"#ffffff",title:"#fde047"},{value:"neon",name:"Neon",bg:"linear-gradient(135deg,#ec4899,#8b5cf6)",button:"#fde047",text:"#ffffff",title:"#fde047"},{value:"steel",name:"Steel",bg:"linear-gradient(135deg,#434343,#666666)",button:"#ffffff",text:"#ffffff",title:"#fde047"},{value:"uofa",name:"UofA Wildcats",bg:"linear-gradient(135deg,#003366,#CC0033)",button:"#ffffff",text:"#ffffff",title:"#ffffff"},{value:"asu",name:"ASU Sun Devils",bg:"linear-gradient(135deg,#8C1D40,#FFC627)",button:"#ffffff",text:"#ffffff",title:"#FFC627"},{value:"nau",name:"NAU Lumberjacks",bg:"linear-gradient(135deg,#003466,#FFC82E)",button:"#ffffff",text:"#ffffff",title:"#FFC82E"},{value:"cardinals",name:"AZ Cardinals",bg:"linear-gradient(135deg,#97233F,#000000)",button:"#ffffff",text:"#ffffff",title:"#ffffff"},{value:"suns",name:"Suns/Mercury",bg:"linear-gradient(135deg,#1D1160,#E56020)",button:"#ffffff",text:"#ffffff",title:"#E56020"},{value:"dbacks",name:"Diamondbacks",bg:"linear-gradient(135deg,#A71930,#E3D4AD)",button:"#000000",text:"#000000",title:"#A71930"},{value:"rattlers",name:"AZ Rattlers",bg:"linear-gradient(135deg,#000000,#8B0000)",button:"#D4AF37",text:"#ffffff",title:"#D4AF37"},{value:"rising",name:"PHX Rising FC",bg:"linear-gradient(135deg,#000000,#B4975A)",button:"#E84C88",text:"#ffffff",title:"#B4975A"}]},[]),be=Math.ceil(fe.length/8),me=(0,o.useMemo)(function(){return[{bg:"#ffffff",color:"#ffffff",label:"White",type:"solid"},{bg:"#fef3c7",color:"#fef3c7",label:"Cream",type:"solid"},{bg:"#fde047",color:"#fde047",label:"Yellow",type:"solid"},{bg:"#f59e0b",color:"#f59e0b",label:"Amber",type:"solid"},{bg:"#f97316",color:"#f97316",label:"Orange",type:"solid"},{bg:"#ef4444",color:"#ef4444",label:"Red",type:"solid"},{bg:"#ec4899",color:"#ec4899",label:"Pink",type:"solid"},{bg:"#a855f7",color:"#a855f7",label:"Purple",type:"solid"},{bg:"#8b5cf6",color:"#8b5cf6",label:"Violet",type:"solid"},{bg:"#3b82f6",color:"#3b82f6",label:"Blue",type:"solid"},{bg:"#10b981",color:"#10b981",label:"Green",type:"solid"},{bg:"#000000",color:"#000000",label:"Black",type:"solid"},{bg:"linear-gradient(135deg,#ffecd2,#fcb69f)",color:"gradient",label:"Peachy",type:"gradient"},{bg:"linear-gradient(135deg,#ff9a9e,#fecfef)",color:"gradient",label:"Pink Blush",type:"gradient"},{bg:"linear-gradient(135deg,#a8edea,#fed6e3)",color:"gradient",label:"Cotton Candy",type:"gradient"},{bg:"linear-gradient(135deg,#4facfe,#00f2fe)",color:"gradient",label:"Electric Blue",type:"gradient"},{bg:"linear-gradient(135deg,#ff6b6b,#feca57)",color:"gradient",label:"Fire Glow",type:"gradient"},{bg:"linear-gradient(135deg,#434343,#666666)",color:"gradient",label:"Steel Gray",type:"gradient"}]},[]),ge=(0,o.useMemo)(function(){return[{label:"Cloudy Sky",url:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1600&q=80&auto=format&fit=crop"},{label:"Golden Sunset",url:"https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=1600&q=80&auto=format&fit=crop"},{label:"Mountain Lake",url:"https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=1600&q=80&auto=format&fit=crop"},{label:"Aurora Borealis",url:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?w=1600&q=80&auto=format&fit=crop"},{label:"Starry Night",url:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1600&q=80&auto=format&fit=crop"},{label:"Pink Clouds",url:"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=1600&q=80&auto=format&fit=crop"},{label:"Ocean Waves",url:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1600&q=80&auto=format&fit=crop"},{label:"Tropical Beach",url:"https://images.unsplash.com/photo-1506953823976-52e1fdc0149a?w=1600&q=80&auto=format&fit=crop"},{label:"Sunset Beach",url:"https://images.unsplash.com/photo-1414609245224-afa02bfb3fda?w=1600&q=80&auto=format&fit=crop"},{label:"Crystal Water",url:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1600&q=80&auto=format&fit=crop"},{label:"Palm Trees",url:"https://images.unsplash.com/photo-1509233725247-49e657c54213?w=1600&q=80&auto=format&fit=crop"},{label:"Coastal Cliffs",url:"https://images.unsplash.com/photo-1468581264429-2548ef9eb732?w=1600&q=80&auto=format&fit=crop"},{label:"Forest Mist",url:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1600&q=80&auto=format&fit=crop"},{label:"Autumn Forest",url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1600&q=80&auto=format&fit=crop"},{label:"Cherry Blossoms",url:"https://images.unsplash.com/photo-1522383225653-ed111181a951?w=1600&q=80&auto=format&fit=crop"},{label:"Lavender Field",url:"https://images.unsplash.com/photo-1499002238440-d264edd596ec?w=1600&q=80&auto=format&fit=crop"},{label:"Sunflowers",url:"https://images.unsplash.com/photo-1470509037663-253afd7f0f51?w=1600&q=80&auto=format&fit=crop"},{label:"Bamboo Grove",url:"https://images.unsplash.com/photo-1448375240586-882707db888b?w=1600&q=80&auto=format&fit=crop"},{label:"City Nightline",url:"https://images.unsplash.com/photo-1494783367193-149034c05e8f?w=1600&q=80&auto=format&fit=crop"},{label:"Desert Dunes",url:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1600&q=80&auto=format&fit=crop"},{label:"Marble Texture",url:"https://images.unsplash.com/photo-1525362081669-2b476bb628c3?w=1600&q=80&auto=format&fit=crop"},{label:"Rose Gold",url:"https://images.unsplash.com/photo-1557683316-973673bdar2?w=1600&q=80&auto=format&fit=crop"},{label:"Geometric Pattern",url:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=1600&q=80&auto=format&fit=crop"},{label:"Watercolor",url:"https://images.unsplash.com/photo-1550859492-d5da9d8e45f3?w=1600&q=80&auto=format&fit=crop"}]},[]),pe=x((0,o.useState)(0),2),he=pe[0],xe=pe[1],ye=Math.ceil(ge.length/6),ve=x((0,o.useState)([{key:"gallery",label:"ðŸ“¸ Image Gallery",field:"enable_gallery"},{key:"guestbook",label:"ðŸ“– Guestbook",field:"show_guestbook"},{key:"featured_video",label:"â–¶ï¸ Featured Video",field:"enable_featured_video"},{key:"video",label:"ðŸŽ¥ Video Gallery",field:"enable_video"}]),2),je=ve[0],_e=ve[1],ke=x((0,o.useState)(null),2),we=ke[0],Ne=ke[1],Ce=function(e,t){var l="gradient"===e.type||"string"==typeof e.bg&&e.bg.startsWith("linear-gradient");"button"===t?ce(function(t){var r;return f(f({},t),{},{theme:f(f({},t.theme),{},{button_color:l?(null===(r=e.bg.match(/#[0-9a-fA-F]{6}/))||void 0===r?void 0:r[0])||"#667eea":e.color,button_gradient:l?e.bg:""})})}):"title"===t?ce(function(t){var r;return f(f({},t),{},{theme:f(f({},t.theme),{},{title_color:l?(null===(r=e.bg.match(/#[0-9a-fA-F]{6}/))||void 0===r?void 0:r[0])||"#4f46e5":e.color})})}):"background"===t&&ce(function(t){return f(f({},t),{},{theme:f(f({},t.theme),{},{bg_color:e.bg||e.color,bg_image_url:""})})})},Se=function(){var e=h(m().m(function e(t){var l,r,a,o;return m().w(function(e){for(;;)switch(e.n){case 0:if(l=t.target.files){e.n=1;break}return e.a(2);case 1:r=m().m(function e(){var t,l,r,n,s;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=o[a],(l=new FormData).append("file",t),e.p=1,e.n=2,fetch(j.upload,{method:"POST",headers:{"X-WP-Nonce":_},body:l});case 2:if((r=e.v).ok){e.n=3;break}return e.a(2,1);case 3:return e.n=4,r.json();case 4:n=e.v,ce(function(e){return f(f({},e),{},{uploadedImages:[].concat(c(e.uploadedImages),[n.url])})}),e.n=6;break;case 5:e.p=5,s=e.v,console.error("Upload failed",s);case 6:return e.a(2)}},e,null,[[1,5]])}),a=0,o=Array.from(l);case 2:if(!(a<o.length)){e.n=5;break}return e.d(d(r()),3);case 3:if(!e.v){e.n=4;break}return e.a(3,4);case 4:a++,e.n=2;break;case 5:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=h(m().m(function e(t){var l,r,a,o,n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(l=t.target.files){e.n=1;break}return e.a(2);case 1:return r=new FormData,Array.from(l).forEach(function(e){return r.append("file",e)}),e.p=2,e.n=3,fetch("/wp-json/artkey/v1/upload",{method:"POST",headers:{"X-WP-Nonce":_},body:r});case 3:if((a=e.v).ok){e.n=4;break}return e.a(2);case 4:return e.n=5,a.json();case 5:o=e.v,ce(function(e){return f(f({},e),{},{uploadedVideos:[].concat(c(e.uploadedVideos),[o.url||o.fileUrl])})}),e.n=7;break;case 6:e.p=6,n=e.v,console.error("Upload failed",n);case 7:return e.a(2)}},e,null,[[2,6]])}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=h(m().m(function e(){var t,l,r,a;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(j.save,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":_},body:JSON.stringify({data:f(f({},de),{},{links:J}),product_id:i})});case 1:if((t=e.v).ok){e.n=3;break}return e.n=2,t.json();case 2:return l=e.v,alert(l.message||"Save failed"),e.a(2);case 3:return e.n=4,t.json();case 4:r=e.v,alert("ArtKey saved! ".concat(r.share_url?"Share URL: ".concat(r.share_url):"")),window.location.href="/checkout/",e.n=6;break;case 5:e.p=5,a=e.v,console.error("Save failed",a),alert("Failed to save ArtKey");case 6:return e.a(2)}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e;return de.theme.bg_image_url?{backgroundImage:"url(".concat(de.theme.bg_image_url,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundColor:w}:null!==(e=de.theme.bg_color)&&void 0!==e&&e.startsWith("linear-gradient")?{background:de.theme.bg_color,backgroundColor:w}:{backgroundColor:de.theme.bg_color||w}},Ae=function(e){if(!e)return"#fff";var t=e.toLowerCase();return"#ffffff"===t||"#fefefe"===t||"#fef3c7"===t||"#fde047"===t||"#fffff0"===t?"#000000":"#ffffff"},Ge=function(){return Ne(null)};return(0,s.jsxs)("div",{style:{background:w},className:"min-h-screen",children:[(0,s.jsx)("div",{style:{background:N},className:"text-white sticky top-0 z-50 shadow-lg",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold font-playfair",children:"âœ¨ Edit Your ArtKey Page"}),(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsx)("button",{onClick:Oe,className:"px-6 py-2 rounded-lg font-semibold transition-all",style:{background:k,color:N,border:"1px solid rgba(255,255,255,0.2)"},children:"âœ… Save & Checkout"})})]}),ne&&(0,s.jsxs)("p",{className:"text-sm text-white/80 mt-2",children:["Customizing: ",ne.productName," - $",ne.totalPrice]})]})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24 border border-[#e2e2e0]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold font-playfair",style:{color:N},children:"Live Preview"}),(0,s.jsxs)("div",b(b({className:"flex gap-2",style:{background:w}},"className","p-1 rounded-lg"),"children",[(0,s.jsx)("button",{onClick:function(){return X("mobile")},className:"px-3 py-1 rounded text-sm font-medium transition-all ".concat("mobile"===H?"shadow":""),style:"mobile"===H?{background:k,color:N}:{color:"#666"},children:"ðŸ“± Mobile"}),(0,s.jsx)("button",{onClick:function(){return X("desktop")},className:"px-3 py-1 rounded text-sm font-medium transition-all ".concat("desktop"===H?"shadow":""),style:"desktop"===H?{background:k,color:N}:{color:"#666"},children:"ðŸ–¥ï¸ Desktop"})]))]}),"mobile"===H&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-[32px] p-2 shadow-2xl relative",style:{width:"min(380px, 100%)"},children:[(0,s.jsx)("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-10",children:(0,s.jsxs)("div",{className:"bg-black rounded-full w-24 h-7 flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-800 ring-1 ring-gray-700"}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-800 ring-1 ring-gray-700"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-[28px] overflow-hidden relative",style:{height:"min(700px, 75vh)",width:"100%"},children:(0,s.jsxs)("div",{className:"h-full w-full pt-6 pb-6 px-6 flex flex-col items-center text-center",style:Fe(),children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-3 font-playfair break-words",style:{color:"gradient"===de.theme.title_style?"transparent":de.theme.title_color,background:"gradient"===de.theme.title_style?"linear-gradient(135deg, ".concat(de.theme.title_color,", ").concat(de.theme.button_color,")"):"none",backgroundClip:"gradient"===de.theme.title_style?"text":"unset",WebkitBackgroundClip:"gradient"===de.theme.title_style?"text":"unset"},children:de.title||"Your Title Here"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-3 w-full max-w-sm",children:[J.slice(0,3).map(function(e,t){return(0,s.jsx)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:e.label||"Link ".concat(t+1)},t)}),(null===(t=de.spotify.url)||void 0===t?void 0:t.length)>10&&(0,s.jsx)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md flex items-center justify-center gap-2",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:"ðŸŽµ Playlist"}),de.features.show_guestbook&&(0,s.jsxs)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸ“ ","closed"===de.features.gb_signing_status?"Guestbook":"Sign Guestbook"]}),de.features.enable_featured_video&&(0,s.jsxs)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸŽ¬ ",de.featured_video.button_label||"Watch Video"]}),de.features.enable_gallery&&(0,s.jsxs)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸ–¼ï¸ Image Gallery ",de.uploadedImages.length>0&&"(".concat(de.uploadedImages.length,")")]}),de.features.enable_video&&(0,s.jsxs)("button",{className:"w-full py-3 px-4 rounded-full text-sm font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸŽ¥ Video Gallery ",de.uploadedVideos.length>0&&"(".concat(de.uploadedVideos.length,")")]})]}),de.uploadedImages.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-1 mt-3 w-full max-w-sm",children:de.uploadedImages.slice(0,4).map(function(e,t){return(0,s.jsx)("img",{src:e,alt:"",className:"w-full h-12 object-cover rounded-md border border-white/50 shadow-sm"},t)})})]})})]})}),"desktop"===H&&(0,s.jsx)("div",{className:"w-full rounded-xl overflow-hidden border-2",style:f(f({borderColor:"#e2e2e0"},Fe()),{},{minHeight:"500px"}),children:(0,s.jsxs)("div",{className:"p-8 h-full flex flex-col items-center justify-center text-center min-h-[500px]",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 font-playfair break-words",style:{color:"gradient"===de.theme.title_style?"transparent":de.theme.title_color,background:"gradient"===de.theme.title_style?"linear-gradient(135deg, ".concat(de.theme.title_color,", ").concat(de.theme.button_color,")"):"none",backgroundClip:"gradient"===de.theme.title_style?"text":"unset",WebkitBackgroundClip:"gradient"===de.theme.title_style?"text":"unset"},children:de.title||"Your Title Here"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 mt-4 w-full max-w-md",children:[J.slice(0,3).map(function(e,t){return(0,s.jsx)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:e.label||"Link ".concat(t+1)},t)}),(null===(l=de.spotify.url)||void 0===l?void 0:l.length)>10&&(0,s.jsx)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md flex items-center justify-center gap-2",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:"ðŸŽµ Playlist"}),de.features.show_guestbook&&(0,s.jsxs)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸ“ ","closed"===de.features.gb_signing_status?"Guestbook":"Sign Guestbook"]}),de.features.enable_featured_video&&(0,s.jsxs)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸŽ¬ ",de.featured_video.button_label||"Watch Video"]}),de.features.enable_gallery&&(0,s.jsxs)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸ–¼ï¸ Image Gallery ",de.uploadedImages.length>0&&"(".concat(de.uploadedImages.length,")")]}),de.features.enable_video&&(0,s.jsxs)("button",{className:"w-full py-3 px-6 rounded-full text-base font-semibold transition-all shadow-md",style:{background:de.theme.button_color,color:Ae(de.theme.button_color)},children:["ðŸŽ¥ Video Gallery ",de.uploadedVideos.length>0&&"(".concat(de.uploadedVideos.length,")")]})]}),de.uploadedImages.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-4 w-full max-w-md",children:de.uploadedImages.slice(0,4).map(function(e,t){return(0,s.jsx)("img",{src:e,alt:"",className:"w-full h-16 object-cover rounded-lg border border-white/50 shadow-sm"},t)})})]})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[null===p&&(0,s.jsx)(S,{title:"Choose a Template or Design Your Own ArtKey",step:"1",children:(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)(I,{onClick:function(){return y("template")},icon:"ðŸŽ¨",accent:!0,children:["Choose a Template",(0,s.jsx)("div",{className:"text-sm text-[#444] mt-1",children:"Pick from 40 templates"})]}),(0,s.jsxs)(I,{onClick:function(){return y("custom")},icon:"âœ¨",children:["Design Your Own",(0,s.jsx)("div",{className:"text-sm text-[#444] mt-1",children:"Start from scratch"})]})]})}),"template"===p&&(0,s.jsx)(S,{title:"Choose Template",step:"1",onBack:function(){return y(null)},children:(0,s.jsx)(O,{page:C,setPage:D,total:be,labelPrefix:"Templates",children:(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:fe.slice(8*C,8*(C+1)).map(function(e){var t;return(0,s.jsxs)("button",{onClick:function(){return function(e){ce(function(t){return f(f({},t),{},{theme:f(f({},t.theme),{},{template:e.value,bg_color:("string"!=typeof e.bg||e.bg.startsWith("linear-gradient"),e.bg),button_color:e.button,title_color:e.title,text_color:e.text||t.theme.text_color,bg_image_url:""})})})}(e)},className:"p-2 rounded-xl border-2 transition-all ".concat(de.theme.template===e.value?"shadow-lg":""),style:{borderColor:de.theme.template===e.value?N:"#e2e2e0",background:(null!==(t=e.bg)&&void 0!==t&&t.startsWith("linear-gradient"),e.bg)},children:[(0,s.jsxs)("div",{className:"w-full h-16 rounded-lg mb-2 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xs font-bold",style:{color:e.title},children:"Aa"})}),(0,s.jsx)("div",{className:"absolute bottom-1 right-1",children:(0,s.jsx)("div",{className:"w-4 h-4 rounded",style:{background:e.button}})})]}),(0,s.jsx)("div",{className:"text-xs font-semibold text-center",style:{color:N},children:e.name})]},e.value)})})})}),"custom"===p&&(0,s.jsxs)(S,{title:"Design Your Own - Choose Background",step:"1",onBack:function(){return y(null)},children:[(0,s.jsx)(P,{value:Y,onChange:z,tabs:[{id:"solid",label:"Solid Color"},{id:"stock",label:"Stock Photos"},{id:"upload",label:"Upload"}]}),"solid"===Y&&(0,s.jsx)(F,{page:q,setPage:B,pages:3,label:function(e){return 0===e?"Solid Colors":1===e?"Gradients: Cool":"Gradients: Warm"},colors:me,selected:de.theme.bg_color,onSelect:function(e){return Ce(e,"background")}}),"stock"===Y&&(0,s.jsx)("div",{children:(0,s.jsx)(O,{page:he,setPage:xe,total:ye,labelPrefix:"Backgrounds",children:(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:ge.slice(6*he,6*he+6).map(function(e,t){return(0,s.jsx)("button",{onClick:function(){return ce(function(l){return f(f({},l),{},{theme:f(f({},l.theme),{},{bg_image_url:e.url,bg_image_id:t+1})})})},className:"aspect-square rounded-lg overflow-hidden border-2 transition-all",style:{borderColor:de.theme.bg_image_url===e.url?N:"#e2e2e0",backgroundImage:"url(".concat(e.url,")"),backgroundSize:"cover",backgroundPosition:"center"},title:e.label},t)})})})}),"upload"===Y&&(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-xl p-8 text-center",style:{borderColor:"#d8d8d6",background:w},children:[(0,s.jsx)("div",{className:"text-5xl mb-4",children:"ðŸ“¤"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:handleBackgroundUpload,className:"hidden",id:"bg-upload"}),(0,s.jsx)("label",{htmlFor:"bg-upload",className:"inline-block px-6 py-3 rounded-full font-semibold cursor-pointer transition-all",style:{background:N,color:"#fff"},children:"Upload Background"}),(0,s.jsx)("p",{className:"text-xs mt-2",style:{color:"#666"},children:"JPG, PNG up to 10MB"})]}),de.theme.bg_image_url&&(0,s.jsx)("button",{onClick:function(){return ce(function(e){return f(f({},e),{},{theme:f(f({},e.theme),{},{bg_image_url:"",bg_image_id:0})})})},className:"w-full mt-3 px-4 py-2 rounded-lg transition-all",style:{border:"1px solid #d8d8d6",background:k,color:N},children:"Clear Background Image"})]}),null!==p&&(0,s.jsxs)(S,{title:"template"===p?"Add Your Title":"Add Your Title and Title Color",step:"2",children:[(0,s.jsx)("input",{type:"text",value:de.title,onChange:function(e){return ce(function(t){return f(f({},t),{},{title:e.target.value})})},className:"w-full px-4 py-3 rounded-lg",style:{border:"2px solid #e2e2e0"},placeholder:"Enter your title..."}),"custom"===p&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2",style:{color:N},children:"Title Color"}),(0,s.jsx)(F,{page:R,setPage:U,pages:4,label:function(e){return 0===e?"Solid Colors":1===e?"Light & Pastel Gradients":2===e?"Vibrant Gradients":"Dark Gradients"},colors:me,selected:de.theme.title_color,onSelect:function(e){return Ce(e,"title")}})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:N},children:"Font"}),(0,s.jsx)("select",{value:de.theme.font,onChange:function(e){return ce(function(t){return f(f({},t),{},{theme:f(f({},t.theme),{},{font:e.target.value})})})},className:"w-full px-4 py-3 rounded-lg",style:{border:"2px solid #e2e2e0"},children:[{value:"system",label:"System"},{value:"serif",label:"Serif"},{value:"mono",label:"Monospace"},{value:"g:Inter",label:"Inter"},{value:"g:Poppins",label:"Poppins"},{value:"g:Lato",label:"Lato"},{value:"g:Montserrat",label:"Montserrat"},{value:"g:Roboto",label:"Roboto"},{value:"g:Playfair Display",label:"Playfair Display"},{value:"g:Open Sans",label:"Open Sans"}].map(function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.value)})})]})]}),null!==p&&(0,s.jsxs)(S,{title:"Choose ArtKey Features and Colors",step:"3",children:[(0,s.jsxs)("div",{className:"mb-4 p-4 rounded-lg",style:{background:"#f5f5f3"},children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"ðŸŽ¨ Button Color"}),(0,s.jsx)(F,{page:T,setPage:V,pages:4,label:function(e){return 0===e?"Solid Colors":1===e?"Gradients: Cool":2===e?"Gradients: Warm":"Gradients: Dark"},colors:me,selected:de.theme.button_color,onSelect:function(e){return Ce(e,"button")}})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸ’¡"}),(0,s.jsx)("span",{className:"text-xs text-blue-800",children:"Click to toggle; drag to reorder."})]}),(0,s.jsx)("div",{className:"space-y-2",children:je.map(function(e,t){return(0,s.jsxs)("div",{draggable:!0,onDragStart:function(){return Ne(t)},onDragOver:function(e){return function(e,t){if(e.preventDefault(),null!==we&&we!==t){var l=c(je),r=l[we];l.splice(we,1),l.splice(t,0,r),_e(l),Ne(t)}}(e,t)},onDragEnd:Ge,className:"flex items-center gap-3 p-3 rounded-lg border-2 cursor-grab transition-all",style:{borderColor:de.features[e.field]?N:"#e2e2e0",background:de.features[e.field]?w:k,opacity:we===t?.5:1},onClick:function(){return t=e.field,void ce(function(e){return f(f({},e),{},{features:f(f({},e.features),{},b({},t,!e.features[t]))})});var t},children:[(0,s.jsx)("div",{className:"text-gray-400",children:"â‹®â‹®"}),(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center",style:{borderColor:de.features[e.field]?N:"#d0d0ce",background:de.features[e.field]?N:"transparent"},children:de.features[e.field]&&(0,s.jsx)("span",{className:"text-white text-xs",children:"âœ“"})}),(0,s.jsx)("span",{className:"flex-1 text-sm font-medium",style:{color:N},children:e.label})]},e.key)})})]}),null!==p&&(0,s.jsxs)(S,{title:"Share Your Interests",step:"4",children:[(0,s.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",style:{color:"#555"},children:"Button Name"}),(0,s.jsx)("input",{type:"text",value:ee,onChange:function(e){return te(e.target.value)},className:"w-full px-3 py-2 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",style:{color:"#555"},children:"URL"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"ðŸ”—"}),(0,s.jsx)("input",{type:"url",value:re,onChange:function(e){return ae(e.target.value)},className:"flex-1 px-3 py-2 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"}})]})]}),(0,s.jsx)("button",{onClick:function(){if(ee&&re){var e=[].concat(c(J),[{label:ee,url:re}]);Z(e),ce(function(t){return f(f({},t),{},{links:e})}),te(""),ae("https://www.")}},className:"w-full px-4 py-2 rounded-lg text-sm font-medium transition-all",style:{border:"2px solid #d8d8d6",background:k,color:N},children:"+ Add Button"})]}),J.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:J.map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg",style:{background:w},children:[(0,s.jsx)("span",{className:"text-sm flex-1",style:{color:N},children:e.label}),(0,s.jsx)("button",{onClick:function(){return function(e){var t=J.filter(function(t,l){return l!==e});Z(t),ce(function(e){return f(f({},e),{},{links:t})})}(t)},className:"text-red-500 text-sm",children:"âœ•"})]},t)})})]}),null!==p&&(0,s.jsxs)(S,{title:"Share Your Playlist",step:"5",children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",style:{color:"#555"},children:"Playlist URL"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"ðŸ”—"}),(0,s.jsx)("input",{type:"url",value:de.spotify.url,onChange:function(e){return ce(function(t){return f(f({},t),{},{spotify:f(f({},t.spotify),{},{url:e.target.value})})})},className:"flex-1 px-3 py-2 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"},placeholder:"https://open.spotify.com/playlist/..."})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 mt-3 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:de.spotify.autoplay,onChange:function(e){return ce(function(t){return f(f({},t),{},{spotify:f(f({},t.spotify),{},{autoplay:e.target.checked})})})}}),(0,s.jsx)("span",{children:"Auto-play when page loads"})]})]}),null!==p&&(0,s.jsx)(S,{title:"Media Gallery",step:"6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(A,{title:"Images",items:de.uploadedImages,onRemove:function(e){return ce(function(t){return f(f({},t),{},{uploadedImages:t.uploadedImages.filter(function(t,l){return l!==e})})})},onUpload:Se,accept:"image/*",inputId:"image-upload",buttonLabel:"+ Upload"}),(0,s.jsx)(A,{title:"Videos",items:de.uploadedVideos,onRemove:function(e){return ce(function(t){return f(f({},t),{},{uploadedVideos:t.uploadedVideos.filter(function(t,l){return l!==e})})})},onUpload:Pe,accept:"video/*",inputId:"video-upload",buttonLabel:"+ Upload",isVideo:!0})]})}),null!==p&&(de.features.show_guestbook||de.features.enable_gallery||de.features.enable_video||de.features.enable_featured_video)&&(0,s.jsxs)(S,{title:"ArtKey Settings",step:"7",children:[de.features.show_guestbook&&(0,s.jsxs)(G,{title:"ðŸ“– Guestbook Settings",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:de.features.gb_btn_view,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{gb_btn_view:e.target.checked})})})}}),(0,s.jsx)("span",{children:"Allow guests to view the Guestbook"})]}),(0,s.jsx)("div",{className:"flex gap-2 mt-2",children:["open","closed","scheduled"].map(function(e){return(0,s.jsx)("button",{onClick:function(){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{gb_signing_status:e})})})},className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all",style:{background:de.features.gb_signing_status===e?"open"===e?"#22c55e":"closed"===e?"#ef4444":"#3b82f6":"#e5e7eb",color:de.features.gb_signing_status===e?"#fff":"#444"},children:"open"===e?"âœ… Open":"closed"===e?"ðŸš« Closed":"ðŸ“… Scheduled"},e)})}),"scheduled"===de.features.gb_signing_status&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 p-3 rounded-lg",style:{background:"#e0f2fe"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Start Date"}),(0,s.jsx)("input",{type:"datetime-local",value:de.features.gb_signing_start,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{gb_signing_start:e.target.value})})})},className:"w-full px-2 py-1.5 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"End Date"}),(0,s.jsx)("input",{type:"datetime-local",value:de.features.gb_signing_end,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{gb_signing_end:e.target.value})})})},className:"w-full px-2 py-1.5 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"}})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm mt-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:de.features.gb_require_approval,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{gb_require_approval:e.target.checked})})})}}),(0,s.jsx)("span",{children:"ðŸ›¡ï¸ Require approval before entries appear"})]})]}),de.features.enable_gallery&&(0,s.jsxs)(G,{title:"ðŸ“¸ Image Gallery Settings",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:de.features.allow_img_uploads,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{allow_img_uploads:e.target.checked})})})}}),(0,s.jsx)("span",{children:"Allow guests to upload images"})]}),de.features.allow_img_uploads&&(0,s.jsxs)("div",{className:"mt-2 p-3 rounded-lg",style:{background:"#fff7ed",border:"1px solid #fed7aa"},children:[(0,s.jsx)("div",{className:"text-sm font-medium",style:{color:"#b45309"},children:"ðŸ›¡ï¸ Moderation enabled"}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"#92400e"},children:"Guest uploads require approval."})]})]}),de.features.enable_video&&(0,s.jsxs)(G,{title:"ðŸŽ¥ Video Gallery Settings",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:de.features.allow_vid_uploads,onChange:function(e){return ce(function(t){return f(f({},t),{},{features:f(f({},t.features),{},{allow_vid_uploads:e.target.checked})})})}}),(0,s.jsx)("span",{children:"Allow guests to upload videos"})]}),de.features.allow_vid_uploads&&(0,s.jsxs)("div",{className:"mt-2 p-3 rounded-lg",style:{background:"#fff7ed",border:"1px solid #fed7aa"},children:[(0,s.jsx)("div",{className:"text-sm font-medium",style:{color:"#b45309"},children:"ðŸ›¡ï¸ Moderation enabled"}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"#92400e"},children:"Guest uploads require approval."})]})]}),de.features.enable_featured_video&&(0,s.jsxs)(G,{title:"â–¶ï¸ Featured Video Settings",children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Button Label"}),(0,s.jsx)("input",{type:"text",value:de.featured_video.button_label,onChange:function(e){return ce(function(t){return f(f({},t),{},{featured_video:f(f({},t.featured_video),{},{button_label:e.target.value})})})},className:"w-full px-3 py-2 rounded-lg text-sm",style:{border:"1px solid #d8d8d6"},placeholder:"e.g., Watch Video Greeting"}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Upload Featured Video"}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-xl p-6 text-center",style:{borderColor:"#d8d8d6",background:w},children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"ðŸŽ¬"}),(0,s.jsx)("input",{type:"file",accept:"video/*",onChange:Pe,className:"hidden",id:"featured-video-upload"}),(0,s.jsx)("label",{htmlFor:"featured-video-upload",className:"inline-block px-4 py-2 rounded-full font-semibold cursor-pointer transition-all",style:{background:N,color:"#fff"},children:"+ Upload Video"}),(0,s.jsx)("p",{className:"text-xs mt-2",style:{color:"#666"},children:"MP4, MOV, WebM up to 100MB"})]})]})]})]})]})]})})]})}function S(e){var t=e.title,l=e.step,r=e.children,a=e.onBack;return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-[#e2e2e0]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l&&(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-white",style:{background:N},children:l}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h3",{className:"text-xl font-bold font-playfair",style:{color:N},children:t})}),a&&(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm rounded-lg transition-all",style:{border:"1px solid #d8d8d6",background:k,color:N},children:"â† Back"})]}),r]})}function P(e){var t=e.value,l=e.onChange,r=e.tabs;return(0,s.jsx)("div",{className:"flex gap-2 mb-4 p-1 rounded-lg",style:{background:w},children:r.map(function(e){return(0,s.jsx)("button",{onClick:function(){return l(e.id)},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all",style:t===e.id?{background:k,boxShadow:"0 2px 6px rgba(0,0,0,0.08)",color:N}:{color:"#666"},children:e.label},e.id)})})}function O(e){var t=e.page,l=e.setPage,r=e.total,a=e.children,o=e.labelPrefix;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("button",{onClick:function(){return l(Math.max(0,t-1))},disabled:0===t,className:"w-10 h-10 rounded-lg border transition-all disabled:opacity-50",style:{borderColor:"#d8d8d6"},children:"â€¹"}),(0,s.jsx)("div",{className:"flex-1",children:a}),(0,s.jsx)("button",{onClick:function(){return l(Math.min(r-1,t+1))},disabled:t>=r-1,className:"w-10 h-10 rounded-lg border transition-all disabled:opacity-50",style:{borderColor:"#d8d8d6"},children:"â€º"})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Page ",t+1," of ",r," ",o||""]})]})}function F(e){var t=e.page,l=e.setPage,r=e.pages,a=e.label,o=e.colors,n=e.selected,i=e.onSelect,d=r-1;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("button",{onClick:function(){return l(Math.max(0,t-1))},disabled:0===t,className:"w-8 h-8 rounded border disabled:opacity-50",style:{borderColor:"#d8d8d6"},children:"â€¹"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 flex-1 text-center",children:"function"==typeof a?a(t):a}),(0,s.jsx)("button",{onClick:function(){return l(Math.min(d,t+1))},disabled:t>=d,className:"w-8 h-8 rounded border disabled:opacity-50",style:{borderColor:"#d8d8d6"},children:"â€º"})]}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-2 mb-2",children:getColorsForPage(t,o).map(function(e,t){var l,r=n===e.color||n===e.bg||"gradient"===e.type&&"string"==typeof n&&n.includes((null===(l=e.bg)||void 0===l||null===(l=l.match(/#[0-9a-fA-F]{6}/))||void 0===l?void 0:l[0])||"");return(0,s.jsx)("button",{onClick:function(){return i(e)},className:"aspect-square rounded-lg border-2 transition-all",style:{background:e.bg||e.color,borderColor:r?N:"#e2e2e0"},title:e.label},t)})})]})}function A(e){var t=e.title,l=e.items,r=e.onRemove,a=e.onUpload,o=e.accept,n=e.inputId,i=e.buttonLabel,d=e.isVideo;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2",style:{color:N},children:t}),l.length>0&&(0,s.jsx)("div",{className:d?"space-y-2 mb-2":"grid grid-cols-3 gap-2 mb-2",children:l.map(function(e,t){return(0,s.jsxs)("div",{className:"relative group",children:[d?(0,s.jsx)("video",{src:e,className:"w-full h-20 object-cover rounded-lg",controls:!0}):(0,s.jsx)("img",{src:e,alt:"",className:"w-full h-20 object-cover rounded-lg"}),(0,s.jsx)("button",{onClick:function(){return r(t)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs",children:"Ã—"})]},t)})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"file",accept:o,multiple:!0,onChange:a,className:"hidden",id:n}),(0,s.jsx)("label",{htmlFor:n,className:"flex-1 px-3 py-2 rounded-lg text-sm text-center cursor-pointer transition-all",style:{border:"1px solid #d8d8d6",background:k,color:N},children:i})]})]})}function G(e){var t=e.title,l=e.children;return(0,s.jsxs)("div",{className:"mb-4 p-4 rounded-lg",style:{background:"#f5f5f3"},children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-3",style:{color:N},children:t}),(0,s.jsx)("div",{className:"space-y-3",children:l})]})}function I(e){var t=e.onClick,l=e.children,r=e.icon,a=e.accent;return(0,s.jsxs)("button",{onClick:t,className:"group relative p-6 rounded-xl text-left transition-all border-2",style:{background:a?"linear-gradient(135deg,#e2e2e0,#cfcfcf)":"linear-gradient(135deg,#f7f7f7,#ececec)",borderColor:"#e2e2e0"},children:[(0,s.jsx)("div",{className:"text-4xl mb-3",children:r}),(0,s.jsx)("div",{className:"text-xl font-bold font-playfair",style:{color:N},children:l}),(0,s.jsx)("div",{className:"absolute top-2 right-2 text-2xl opacity-20 group-hover:opacity-40 transition-opacity",children:"â†’"})]})}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("artkey-editor-root");if(e){var t=e.getAttribute("data-artkey-id");(0,n.H)(e).render((0,s.jsx)(C,{artkeyId:t}))}})})();